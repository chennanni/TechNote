---
layout: default
title: Message Queue - Basic
folder: basic
permalink: /archive/message-queue/basic/
---

# Message Queue - Basic

## 什么是消息队列
是一种进程间通信或同一进程的不同线程间的通信方式

## 实现
消息队列常常保存在链表结构中，拥有权限的进程可以向消息队列中写入或读取消息

- Apache ActiveMQ
- RabbitMQ

## 特点
- 主要特点是异步处理
- 主要目的是减少请求响应时间和解耦
- 主要的使用场景就是将比较耗时而且不需要即时（同步）返回结果的操作作为消息放入消息队列

## 实际使用场景

使用场景1：用户注册

- 校验用户名等信息，如果没问题会在数据库中添加一个用户记录（同步）
- 如果是用邮箱注册会给你发送一封注册成功的邮件，手机注册则会发送一条短信（异步）
- 分析用户的个人信息，以便将来向他推荐一些志同道合的人，或向那些人推荐他（异步）
- 发送给用户一个包含操作指南的系统通知（异步）

使用场景2：秒杀活动

比如服务器一秒能处理100个订单，但秒杀活动1秒进来1000个订单，持续10秒，在后端能力无法增加的情况下，
可以用消息队列将总共10000个请求压在队列里，后台consumer按原有能力处理，100秒后处理完所有请求（而不是直接宕机丢失订单数据）。
